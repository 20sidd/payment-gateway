<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Add Payment</title>
  </head>
  <body>
    <div class="header_div" style="text-align: center; background-color: blue; height: 50px; color: white; padding-top: 5px;">
        <h3>
            <a style="text-decoration: none; color: white;" href="/">
                  Payment Gateway
              </a>
          </h3>
        </div>
        <div style="margin: 25px;">

        <form id = "userform" action="/user/add-user" method="post" >
        <div style="display: flex;flex-direction: column;background-color: lightgrey;width:30%">
            <div style="display: flex; margin-bottom: 15px;">
                <label style="margin-right: 60px;"for="bankName">Bank Name:</label>
                <select name="bankName" id="bankName">
                  <option value="Bank A">Meezan</option>
                  <option value="Bank B">Alfalah</option>
                  <option value="Bank C">Al Habib</option>
                </select>
            </div>
            <div style="display: flex; margin-bottom: 15px;">
                <label style="margin-right: 20px;" for="accountNumber">Account Number:</label>
                <input type="text" name="accountNumber" id="accountNumber">
            </div>
            <div id = "cnic-form" style="display: flex; margin-bottom: 15px;">
              <label style="margin-right: 103px;" for="cnic">CNIC:</label>
              <input type="text" name="cnic" id="cnic"placeholder = "12345-1234567-1">
              <div id="cnic-error" style="display: none; color: red;">Invalid CNIC</div>

            </div>
            <div style="display: flex; margin-bottom: 15px;">
              <label style="margin-right: 82px;" for="amount">Amount:</label>
              <input type="text" name="amount" id="amount">
            </div>
            <div style="display: flex; margin-bottom: 15px;">
              <label style="margin-right: 100px;" for="email">Email:</label>
              <input type="email" name="email" id="email"placeholder = "you@example.com">
            </div>
            <div style="display: flex; margin-bottom: 15px;">
              <label style="margin-right: 27px;" for="mobileNumber">Mobile Number:</label>
              <input type="text" name="mobileNumber" id="mobileNumber">
            </div>
        </div>
        <input type="submit" value="Submit"style="background-color: blue; color: white;" onclick="return validateCNIC()">
        </form>


      <script>
        validateCNIC()
        {
          //const form = document.querySelector('#userform');
          console.log('start');
        //form.addEventListener('submit', (event) => {
          const cnic = document.querySelector('#cnic').value;
          const cnicError = document.querySelector('#cnic-error');
          console.log('going to check');
          if (!/^[0-9]{5}-[0-9]{7}-[0-9]{1}$/.test(cnic)) {
            console.log('wrong');
            cnicError.style.display = 'block';
            return false;
            //event.preventDefault();
          } else {
            console.log('right');
            
            cnicError.style.display = 'none';
            return true;
          }
        //});
      }
      </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

  </body>
</html>